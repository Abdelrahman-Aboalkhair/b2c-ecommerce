[2025-04-07T08:21:59.906Z] [31MERROR[39M: uncaughtException: Cannot find module 'config/logger'
Require stack:
- /home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/src/middlewares/validateDto.ts
- /home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/src/routes/userRoutes.ts
- /home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/src/app.ts
- /home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/src/server.ts
Error: Cannot find module 'config/logger'
Require stack:
- /home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/src/middlewares/validateDto.ts
- /home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/src/routes/userRoutes.ts
- /home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/src/app.ts
- /home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/src/server.ts
    at Function.<anonymous> (node:internal/modules/cjs/loader:1394:15)
    at Function.Module._resolveFilename.sharedData.moduleResolveFilenameHook.installedValue [as _resolveFilename] (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/@cspotcode/source-map-support/source-map-support.js:811:30)
    at defaultResolveImpl (node:internal/modules/cjs/loader:1050:19)
    at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1055:22)
    at Function._load (node:internal/modules/cjs/loader:1204:37)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:234:24)
    at Module.require (node:internal/modules/cjs/loader:1480:12)
    at require (node:internal/modules/helpers:135:16)
    at Object.<anonymous> (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/src/middlewares/validateDto.ts:3:1)
[2025-04-07T08:22:16.472Z] [31MERROR[39M: uncaughtException: Cannot find module 'dtos/userDto'
Require stack:
- /home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/src/routes/userRoutes.ts
- /home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/src/app.ts
- /home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/src/server.ts
Error: Cannot find module 'dtos/userDto'
Require stack:
- /home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/src/routes/userRoutes.ts
- /home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/src/app.ts
- /home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/src/server.ts
    at Function.<anonymous> (node:internal/modules/cjs/loader:1394:15)
    at Function.Module._resolveFilename.sharedData.moduleResolveFilenameHook.installedValue [as _resolveFilename] (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/@cspotcode/source-map-support/source-map-support.js:811:30)
    at defaultResolveImpl (node:internal/modules/cjs/loader:1050:19)
    at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1055:22)
    at Function._load (node:internal/modules/cjs/loader:1204:37)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:234:24)
    at Module.require (node:internal/modules/cjs/loader:1480:12)
    at require (node:internal/modules/helpers:135:16)
    at Object.<anonymous> (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/src/routes/userRoutes.ts:6:1)
[2025-04-07T10:32:41.513Z] [31MERROR[39M: uncaughtException: тип Unable to compile TypeScript:
[96msrc/controllers/authController.ts[0m:[93m140[0m:[93m9[0m - [91merror[0m[90m TS2322: [0mType 'undefined' is not assignable to type 'string'.

[7m140[0m         req.session.cart.id = undefined;
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~[0m

TSError: тип Unable to compile TypeScript:
[96msrc/controllers/authController.ts[0m:[93m140[0m:[93m9[0m - [91merror[0m[90m TS2322: [0mType 'undefined' is not assignable to type 'string'.

[7m140[0m         req.session.cart.id = undefined;
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~[0m

    at createTSError (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:859:12)
    at reportTSError (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:863:19)
    at getOutput (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1077:36)
    at Object.compile (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1433:41)
    at Module.m._compile (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1617:30)
    at loadTS (node:internal/modules/cjs/loader:1815:10)
    at Object.require.extensions.<computed> [as .ts] (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1458:32)
    at Function._load (node:internal/modules/cjs/loader:1275:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
[2025-04-07T10:32:48.059Z] [31MERROR[39M: uncaughtException: тип Unable to compile TypeScript:
[96msrc/controllers/authController.ts[0m:[93m140[0m:[93m9[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'string'.

[7m140[0m         req.session.cart.id = null;
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~[0m

TSError: тип Unable to compile TypeScript:
[96msrc/controllers/authController.ts[0m:[93m140[0m:[93m9[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'string'.

[7m140[0m         req.session.cart.id = null;
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~[0m

    at createTSError (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:859:12)
    at reportTSError (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:863:19)
    at getOutput (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1077:36)
    at Object.compile (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1433:41)
    at Module.m._compile (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1617:30)
    at loadTS (node:internal/modules/cjs/loader:1815:10)
    at Object.require.extensions.<computed> [as .ts] (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1458:32)
    at Function._load (node:internal/modules/cjs/loader:1275:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
[2025-04-08T02:06:11.149Z] [31MERROR[39M: uncaughtException: тип Unable to compile TypeScript:
[96msrc/services/productService.ts[0m:[93m15[0m:[93m8[0m - [91merror[0m[90m TS2339: [0mProperty 'sort' does not exist on type 'ApiFeatures'.

[7m15[0m       .sort()
[7m  [0m [91m       ~~~~[0m

TSError: тип Unable to compile TypeScript:
[96msrc/services/productService.ts[0m:[93m15[0m:[93m8[0m - [91merror[0m[90m TS2339: [0mProperty 'sort' does not exist on type 'ApiFeatures'.

[7m15[0m       .sort()
[7m  [0m [91m       ~~~~[0m

    at createTSError (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:859:12)
    at reportTSError (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:863:19)
    at getOutput (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1077:36)
    at Object.compile (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1433:41)
    at Module.m._compile (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1617:30)
    at loadTS (node:internal/modules/cjs/loader:1815:10)
    at Object.require.extensions.<computed> [as .ts] (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1458:32)
    at Function._load (node:internal/modules/cjs/loader:1275:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
[2025-04-08T02:28:00.389Z] [31MERROR[39M: uncaughtException: тип Unable to compile TypeScript:
[96msrc/controllers/productController.ts[0m:[93m16[0m:[93m15[0m - [91merror[0m[90m TS2339: [0mProperty 'products' does not exist on type '{ name: string; id: string; createdAt: Date; updatedAt: Date; description: string | null; price: number; discount: number; slug: string; images: string[]; stock: number; salesCount: number; ... 6 more ...; categoryId: string | null; }[]'.

[7m16[0m       const { products, totalResults, totalPages, currentPage } =
[7m  [0m [91m              ~~~~~~~~[0m
[96msrc/controllers/productController.ts[0m:[93m16[0m:[93m25[0m - [91merror[0m[90m TS2339: [0mProperty 'totalResults' does not exist on type '{ name: string; id: string; createdAt: Date; updatedAt: Date; description: string | null; price: number; discount: number; slug: string; images: string[]; stock: number; salesCount: number; ... 6 more ...; categoryId: string | null; }[]'.

[7m16[0m       const { products, totalResults, totalPages, currentPage } =
[7m  [0m [91m                        ~~~~~~~~~~~~[0m
[96msrc/controllers/productController.ts[0m:[93m16[0m:[93m39[0m - [91merror[0m[90m TS2339: [0mProperty 'totalPages' does not exist on type '{ name: string; id: string; createdAt: Date; updatedAt: Date; description: string | null; price: number; discount: number; slug: string; images: string[]; stock: number; salesCount: number; ... 6 more ...; categoryId: string | null; }[]'.

[7m16[0m       const { products, totalResults, totalPages, currentPage } =
[7m  [0m [91m                                      ~~~~~~~~~~[0m
[96msrc/controllers/productController.ts[0m:[93m16[0m:[93m51[0m - [91merror[0m[90m TS2339: [0mProperty 'currentPage' does not exist on type '{ name: string; id: string; createdAt: Date; updatedAt: Date; description: string | null; price: number; discount: number; slug: string; images: string[]; stock: number; salesCount: number; ... 6 more ...; categoryId: string | null; }[]'.

[7m16[0m       const { products, totalResults, totalPages, currentPage } =
[7m  [0m [91m                                                  ~~~~~~~~~~~[0m

TSError: тип Unable to compile TypeScript:
[96msrc/controllers/productController.ts[0m:[93m16[0m:[93m15[0m - [91merror[0m[90m TS2339: [0mProperty 'products' does not exist on type '{ name: string; id: string; createdAt: Date; updatedAt: Date; description: string | null; price: number; discount: number; slug: string; images: string[]; stock: number; salesCount: number; ... 6 more ...; categoryId: string | null; }[]'.

[7m16[0m       const { products, totalResults, totalPages, currentPage } =
[7m  [0m [91m              ~~~~~~~~[0m
[96msrc/controllers/productController.ts[0m:[93m16[0m:[93m25[0m - [91merror[0m[90m TS2339: [0mProperty 'totalResults' does not exist on type '{ name: string; id: string; createdAt: Date; updatedAt: Date; description: string | null; price: number; discount: number; slug: string; images: string[]; stock: number; salesCount: number; ... 6 more ...; categoryId: string | null; }[]'.

[7m16[0m       const { products, totalResults, totalPages, currentPage } =
[7m  [0m [91m                        ~~~~~~~~~~~~[0m
[96msrc/controllers/productController.ts[0m:[93m16[0m:[93m39[0m - [91merror[0m[90m TS2339: [0mProperty 'totalPages' does not exist on type '{ name: string; id: string; createdAt: Date; updatedAt: Date; description: string | null; price: number; discount: number; slug: string; images: string[]; stock: number; salesCount: number; ... 6 more ...; categoryId: string | null; }[]'.

[7m16[0m       const { products, totalResults, totalPages, currentPage } =
[7m  [0m [91m                                      ~~~~~~~~~~[0m
[96msrc/controllers/productController.ts[0m:[93m16[0m:[93m51[0m - [91merror[0m[90m TS2339: [0mProperty 'currentPage' does not exist on type '{ name: string; id: string; createdAt: Date; updatedAt: Date; description: string | null; price: number; discount: number; slug: string; images: string[]; stock: number; salesCount: number; ... 6 more ...; categoryId: string | null; }[]'.

[7m16[0m       const { products, totalResults, totalPages, currentPage } =
[7m  [0m [91m                                                  ~~~~~~~~~~~[0m

    at createTSError (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:859:12)
    at reportTSError (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:863:19)
    at getOutput (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1077:36)
    at Object.compile (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1433:41)
    at Module.m._compile (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1617:30)
    at loadTS (node:internal/modules/cjs/loader:1815:10)
    at Object.require.extensions.<computed> [as .ts] (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1458:32)
    at Function._load (node:internal/modules/cjs/loader:1275:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
[2025-04-08T02:28:11.431Z] [31MERROR[39M: uncaughtException: тип Unable to compile TypeScript:
[96msrc/services/productService.ts[0m:[93m24[0m:[93m55[0m - [91merror[0m[90m TS2339: [0mProperty 'countProducts' does not exist on type 'ProductRepository'.

[7m24[0m     const totalResults = await this.productRepository.countProducts({
[7m  [0m [91m                                                      ~~~~~~~~~~~~~[0m

TSError: тип Unable to compile TypeScript:
[96msrc/services/productService.ts[0m:[93m24[0m:[93m55[0m - [91merror[0m[90m TS2339: [0mProperty 'countProducts' does not exist on type 'ProductRepository'.

[7m24[0m     const totalResults = await this.productRepository.countProducts({
[7m  [0m [91m                                                      ~~~~~~~~~~~~~[0m

    at createTSError (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:859:12)
    at reportTSError (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:863:19)
    at getOutput (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1077:36)
    at Object.compile (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1433:41)
    at Module.m._compile (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1617:30)
    at loadTS (node:internal/modules/cjs/loader:1815:10)
    at Object.require.extensions.<computed> [as .ts] (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1458:32)
    at Function._load (node:internal/modules/cjs/loader:1275:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
[2025-04-08T02:28:32.292Z] [31MERROR[39M: uncaughtException: тип Unable to compile TypeScript:
[96msrc/services/productService.ts[0m:[93m45[0m:[93m50[0m - [91merror[0m[90m TS2339: [0mProperty 'findProductById' does not exist on type 'ProductRepository'.

[7m45[0m     const product = await this.productRepository.findProductById(productId);
[7m  [0m [91m                                                 ~~~~~~~~~~~~~~~[0m
[96msrc/services/productService.ts[0m:[93m53[0m:[93m50[0m - [91merror[0m[90m TS2339: [0mProperty 'findProductBySlug' does not exist on type 'ProductRepository'.

[7m53[0m     const product = await this.productRepository.findProductBySlug(productSlug);
[7m  [0m [91m                                                 ~~~~~~~~~~~~~~~~~[0m
[96msrc/services/productService.ts[0m:[93m70[0m:[93m50[0m - [91merror[0m[90m TS2339: [0mProperty 'createProduct' does not exist on type 'ProductRepository'.

[7m70[0m     const product = await this.productRepository.createProduct(data);
[7m  [0m [91m                                                 ~~~~~~~~~~~~~[0m
[96msrc/services/productService.ts[0m:[93m86[0m:[93m58[0m - [91merror[0m[90m TS2339: [0mProperty 'findProductById' does not exist on type 'ProductRepository'.

[7m86[0m     const existingProduct = await this.productRepository.findProductById(
[7m  [0m [91m                                                         ~~~~~~~~~~~~~~~[0m
[96msrc/services/productService.ts[0m:[93m93[0m:[93m50[0m - [91merror[0m[90m TS2339: [0mProperty 'updateProduct' does not exist on type 'ProductRepository'.

[7m93[0m     const product = await this.productRepository.updateProduct(
[7m  [0m [91m                                                 ~~~~~~~~~~~~~[0m
[96msrc/services/productService.ts[0m:[93m101[0m:[93m50[0m - [91merror[0m[90m TS2339: [0mProperty 'findProductById' does not exist on type 'ProductRepository'.

[7m101[0m     const product = await this.productRepository.findProductById(productId);
[7m   [0m [91m                                                 ~~~~~~~~~~~~~~~[0m
[96msrc/services/productService.ts[0m:[93m106[0m:[93m34[0m - [91merror[0m[90m TS2339: [0mProperty 'deleteProduct' does not exist on type 'ProductRepository'.

[7m106[0m     await this.productRepository.deleteProduct(productId);
[7m   [0m [91m                                 ~~~~~~~~~~~~~[0m

TSError: тип Unable to compile TypeScript:
[96msrc/services/productService.ts[0m:[93m45[0m:[93m50[0m - [91merror[0m[90m TS2339: [0mProperty 'findProductById' does not exist on type 'ProductRepository'.

[7m45[0m     const product = await this.productRepository.findProductById(productId);
[7m  [0m [91m                                                 ~~~~~~~~~~~~~~~[0m
[96msrc/services/productService.ts[0m:[93m53[0m:[93m50[0m - [91merror[0m[90m TS2339: [0mProperty 'findProductBySlug' does not exist on type 'ProductRepository'.

[7m53[0m     const product = await this.productRepository.findProductBySlug(productSlug);
[7m  [0m [91m                                                 ~~~~~~~~~~~~~~~~~[0m
[96msrc/services/productService.ts[0m:[93m70[0m:[93m50[0m - [91merror[0m[90m TS2339: [0mProperty 'createProduct' does not exist on type 'ProductRepository'.

[7m70[0m     const product = await this.productRepository.createProduct(data);
[7m  [0m [91m                                                 ~~~~~~~~~~~~~[0m
[96msrc/services/productService.ts[0m:[93m86[0m:[93m58[0m - [91merror[0m[90m TS2339: [0mProperty 'findProductById' does not exist on type 'ProductRepository'.

[7m86[0m     const existingProduct = await this.productRepository.findProductById(
[7m  [0m [91m                                                         ~~~~~~~~~~~~~~~[0m
[96msrc/services/productService.ts[0m:[93m93[0m:[93m50[0m - [91merror[0m[90m TS2339: [0mProperty 'updateProduct' does not exist on type 'ProductRepository'.

[7m93[0m     const product = await this.productRepository.updateProduct(
[7m  [0m [91m                                                 ~~~~~~~~~~~~~[0m
[96msrc/services/productService.ts[0m:[93m101[0m:[93m50[0m - [91merror[0m[90m TS2339: [0mProperty 'findProductById' does not exist on type 'ProductRepository'.

[7m101[0m     const product = await this.productRepository.findProductById(productId);
[7m   [0m [91m                                                 ~~~~~~~~~~~~~~~[0m
[96msrc/services/productService.ts[0m:[93m106[0m:[93m34[0m - [91merror[0m[90m TS2339: [0mProperty 'deleteProduct' does not exist on type 'ProductRepository'.

[7m106[0m     await this.productRepository.deleteProduct(productId);
[7m   [0m [91m                                 ~~~~~~~~~~~~~[0m

    at createTSError (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:859:12)
    at reportTSError (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:863:19)
    at getOutput (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1077:36)
    at Object.compile (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1433:41)
    at Module.m._compile (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1617:30)
    at loadTS (node:internal/modules/cjs/loader:1815:10)
    at Object.require.extensions.<computed> [as .ts] (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1458:32)
    at Function._load (node:internal/modules/cjs/loader:1275:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
[2025-04-08T02:29:02.926Z] [31MERROR[39M: uncaughtException: тип Unable to compile TypeScript:
[96msrc/services/productService.ts[0m:[93m24[0m:[93m55[0m - [91merror[0m[90m TS2339: [0mProperty 'countProducts' does not exist on type 'ProductRepository'.

[7m24[0m     const totalResults = await this.productRepository.countProducts({
[7m  [0m [91m                                                      ~~~~~~~~~~~~~[0m
[96msrc/services/productService.ts[0m:[93m45[0m:[93m50[0m - [91merror[0m[90m TS2339: [0mProperty 'findProductById' does not exist on type 'ProductRepository'.

[7m45[0m     const product = await this.productRepository.findProductById(productId);
[7m  [0m [91m                                                 ~~~~~~~~~~~~~~~[0m
[96msrc/services/productService.ts[0m:[93m53[0m:[93m50[0m - [91merror[0m[90m TS2339: [0mProperty 'findProductBySlug' does not exist on type 'ProductRepository'.

[7m53[0m     const product = await this.productRepository.findProductBySlug(productSlug);
[7m  [0m [91m                                                 ~~~~~~~~~~~~~~~~~[0m
[96msrc/services/productService.ts[0m:[93m70[0m:[93m50[0m - [91merror[0m[90m TS2339: [0mProperty 'createProduct' does not exist on type 'ProductRepository'.

[7m70[0m     const product = await this.productRepository.createProduct(data);
[7m  [0m [91m                                                 ~~~~~~~~~~~~~[0m
[96msrc/services/productService.ts[0m:[93m86[0m:[93m58[0m - [91merror[0m[90m TS2339: [0mProperty 'findProductById' does not exist on type 'ProductRepository'.

[7m86[0m     const existingProduct = await this.productRepository.findProductById(
[7m  [0m [91m                                                         ~~~~~~~~~~~~~~~[0m
[96msrc/services/productService.ts[0m:[93m93[0m:[93m50[0m - [91merror[0m[90m TS2339: [0mProperty 'updateProduct' does not exist on type 'ProductRepository'.

[7m93[0m     const product = await this.productRepository.updateProduct(
[7m  [0m [91m                                                 ~~~~~~~~~~~~~[0m
[96msrc/services/productService.ts[0m:[93m101[0m:[93m50[0m - [91merror[0m[90m TS2339: [0mProperty 'findProductById' does not exist on type 'ProductRepository'.

[7m101[0m     const product = await this.productRepository.findProductById(productId);
[7m   [0m [91m                                                 ~~~~~~~~~~~~~~~[0m
[96msrc/services/productService.ts[0m:[93m106[0m:[93m34[0m - [91merror[0m[90m TS2339: [0mProperty 'deleteProduct' does not exist on type 'ProductRepository'.

[7m106[0m     await this.productRepository.deleteProduct(productId);
[7m   [0m [91m                                 ~~~~~~~~~~~~~[0m

TSError: тип Unable to compile TypeScript:
[96msrc/services/productService.ts[0m:[93m24[0m:[93m55[0m - [91merror[0m[90m TS2339: [0mProperty 'countProducts' does not exist on type 'ProductRepository'.

[7m24[0m     const totalResults = await this.productRepository.countProducts({
[7m  [0m [91m                                                      ~~~~~~~~~~~~~[0m
[96msrc/services/productService.ts[0m:[93m45[0m:[93m50[0m - [91merror[0m[90m TS2339: [0mProperty 'findProductById' does not exist on type 'ProductRepository'.

[7m45[0m     const product = await this.productRepository.findProductById(productId);
[7m  [0m [91m                                                 ~~~~~~~~~~~~~~~[0m
[96msrc/services/productService.ts[0m:[93m53[0m:[93m50[0m - [91merror[0m[90m TS2339: [0mProperty 'findProductBySlug' does not exist on type 'ProductRepository'.

[7m53[0m     const product = await this.productRepository.findProductBySlug(productSlug);
[7m  [0m [91m                                                 ~~~~~~~~~~~~~~~~~[0m
[96msrc/services/productService.ts[0m:[93m70[0m:[93m50[0m - [91merror[0m[90m TS2339: [0mProperty 'createProduct' does not exist on type 'ProductRepository'.

[7m70[0m     const product = await this.productRepository.createProduct(data);
[7m  [0m [91m                                                 ~~~~~~~~~~~~~[0m
[96msrc/services/productService.ts[0m:[93m86[0m:[93m58[0m - [91merror[0m[90m TS2339: [0mProperty 'findProductById' does not exist on type 'ProductRepository'.

[7m86[0m     const existingProduct = await this.productRepository.findProductById(
[7m  [0m [91m                                                         ~~~~~~~~~~~~~~~[0m
[96msrc/services/productService.ts[0m:[93m93[0m:[93m50[0m - [91merror[0m[90m TS2339: [0mProperty 'updateProduct' does not exist on type 'ProductRepository'.

[7m93[0m     const product = await this.productRepository.updateProduct(
[7m  [0m [91m                                                 ~~~~~~~~~~~~~[0m
[96msrc/services/productService.ts[0m:[93m101[0m:[93m50[0m - [91merror[0m[90m TS2339: [0mProperty 'findProductById' does not exist on type 'ProductRepository'.

[7m101[0m     const product = await this.productRepository.findProductById(productId);
[7m   [0m [91m                                                 ~~~~~~~~~~~~~~~[0m
[96msrc/services/productService.ts[0m:[93m106[0m:[93m34[0m - [91merror[0m[90m TS2339: [0mProperty 'deleteProduct' does not exist on type 'ProductRepository'.

[7m106[0m     await this.productRepository.deleteProduct(productId);
[7m   [0m [91m                                 ~~~~~~~~~~~~~[0m

    at createTSError (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:859:12)
    at reportTSError (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:863:19)
    at getOutput (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1077:36)
    at Object.compile (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1433:41)
    at Module.m._compile (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1617:30)
    at loadTS (node:internal/modules/cjs/loader:1815:10)
    at Object.require.extensions.<computed> [as .ts] (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1458:32)
    at Function._load (node:internal/modules/cjs/loader:1275:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
[2025-04-08T03:49:45.147Z] [31MERROR[39M: uncaughtException: тип Unable to compile TypeScript:
[96msrc/utils/cartUtils.ts[0m:[93m34[0m:[93m30[0m - [91merror[0m[90m TS18048: [0m'mergedCart' is possibly 'undefined'.

[7m34[0m     req.session.cart = { id: mergedCart.id, items: mergedCart.cartItems };
[7m  [0m [91m                             ~~~~~~~~~~[0m
[96msrc/utils/cartUtils.ts[0m:[93m34[0m:[93m45[0m - [91merror[0m[90m TS2322: [0mType '{ id: string; createdAt: Date; updatedAt: Date; cartId: string; productId: string; quantity: number; }[]' is not assignable to type '{ product: any; quantity: number; }[]'.
  Property 'product' is missing in type '{ id: string; createdAt: Date; updatedAt: Date; cartId: string; productId: string; quantity: number; }' but required in type '{ product: any; quantity: number; }'.

[7m34[0m     req.session.cart = { id: mergedCart.id, items: mergedCart.cartItems };
[7m  [0m [91m                                            ~~~~~[0m

  [96msrc/types.d.ts[0m:[93m11[0m:[93m11[0m
    [7m11[0m           product: any;
    [7m  [0m [96m          ~~~~~~~[0m
    'product' is declared here.
[96msrc/utils/cartUtils.ts[0m:[93m34[0m:[93m52[0m - [91merror[0m[90m TS18048: [0m'mergedCart' is possibly 'undefined'.

[7m34[0m     req.session.cart = { id: mergedCart.id, items: mergedCart.cartItems };
[7m  [0m [91m                                                   ~~~~~~~~~~[0m

TSError: тип Unable to compile TypeScript:
[96msrc/utils/cartUtils.ts[0m:[93m34[0m:[93m30[0m - [91merror[0m[90m TS18048: [0m'mergedCart' is possibly 'undefined'.

[7m34[0m     req.session.cart = { id: mergedCart.id, items: mergedCart.cartItems };
[7m  [0m [91m                             ~~~~~~~~~~[0m
[96msrc/utils/cartUtils.ts[0m:[93m34[0m:[93m45[0m - [91merror[0m[90m TS2322: [0mType '{ id: string; createdAt: Date; updatedAt: Date; cartId: string; productId: string; quantity: number; }[]' is not assignable to type '{ product: any; quantity: number; }[]'.
  Property 'product' is missing in type '{ id: string; createdAt: Date; updatedAt: Date; cartId: string; productId: string; quantity: number; }' but required in type '{ product: any; quantity: number; }'.

[7m34[0m     req.session.cart = { id: mergedCart.id, items: mergedCart.cartItems };
[7m  [0m [91m                                            ~~~~~[0m

  [96msrc/types.d.ts[0m:[93m11[0m:[93m11[0m
    [7m11[0m           product: any;
    [7m  [0m [96m          ~~~~~~~[0m
    'product' is declared here.
[96msrc/utils/cartUtils.ts[0m:[93m34[0m:[93m52[0m - [91merror[0m[90m TS18048: [0m'mergedCart' is possibly 'undefined'.

[7m34[0m     req.session.cart = { id: mergedCart.id, items: mergedCart.cartItems };
[7m  [0m [91m                                                   ~~~~~~~~~~[0m

    at createTSError (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:859:12)
    at reportTSError (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:863:19)
    at getOutput (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1077:36)
    at Object.compile (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1433:41)
    at Module.m._compile (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1617:30)
    at loadTS (node:internal/modules/cjs/loader:1815:10)
    at Object.require.extensions.<computed> [as .ts] (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1458:32)
    at Function._load (node:internal/modules/cjs/loader:1275:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
[2025-04-08T03:50:50.245Z] [31MERROR[39M: uncaughtException: тип Unable to compile TypeScript:
[96msrc/utils/cartUtils.ts[0m:[93m34[0m:[93m30[0m - [91merror[0m[90m TS18048: [0m'mergedCart' is possibly 'undefined'.

[7m34[0m     req.session.cart = { id: mergedCart.id, items: mergedCart.cartItems };
[7m  [0m [91m                             ~~~~~~~~~~[0m
[96msrc/utils/cartUtils.ts[0m:[93m34[0m:[93m45[0m - [91merror[0m[90m TS2322: [0mType '{ id: string; createdAt: Date; updatedAt: Date; cartId: string; productId: string; quantity: number; }[]' is not assignable to type '{ product: any; quantity: number; }[]'.
  Property 'product' is missing in type '{ id: string; createdAt: Date; updatedAt: Date; cartId: string; productId: string; quantity: number; }' but required in type '{ product: any; quantity: number; }'.

[7m34[0m     req.session.cart = { id: mergedCart.id, items: mergedCart.cartItems };
[7m  [0m [91m                                            ~~~~~[0m

  [96msrc/types.d.ts[0m:[93m11[0m:[93m11[0m
    [7m11[0m           product: any;
    [7m  [0m [96m          ~~~~~~~[0m
    'product' is declared here.
[96msrc/utils/cartUtils.ts[0m:[93m34[0m:[93m52[0m - [91merror[0m[90m TS18048: [0m'mergedCart' is possibly 'undefined'.

[7m34[0m     req.session.cart = { id: mergedCart.id, items: mergedCart.cartItems };
[7m  [0m [91m                                                   ~~~~~~~~~~[0m

TSError: тип Unable to compile TypeScript:
[96msrc/utils/cartUtils.ts[0m:[93m34[0m:[93m30[0m - [91merror[0m[90m TS18048: [0m'mergedCart' is possibly 'undefined'.

[7m34[0m     req.session.cart = { id: mergedCart.id, items: mergedCart.cartItems };
[7m  [0m [91m                             ~~~~~~~~~~[0m
[96msrc/utils/cartUtils.ts[0m:[93m34[0m:[93m45[0m - [91merror[0m[90m TS2322: [0mType '{ id: string; createdAt: Date; updatedAt: Date; cartId: string; productId: string; quantity: number; }[]' is not assignable to type '{ product: any; quantity: number; }[]'.
  Property 'product' is missing in type '{ id: string; createdAt: Date; updatedAt: Date; cartId: string; productId: string; quantity: number; }' but required in type '{ product: any; quantity: number; }'.

[7m34[0m     req.session.cart = { id: mergedCart.id, items: mergedCart.cartItems };
[7m  [0m [91m                                            ~~~~~[0m

  [96msrc/types.d.ts[0m:[93m11[0m:[93m11[0m
    [7m11[0m           product: any;
    [7m  [0m [96m          ~~~~~~~[0m
    'product' is declared here.
[96msrc/utils/cartUtils.ts[0m:[93m34[0m:[93m52[0m - [91merror[0m[90m TS18048: [0m'mergedCart' is possibly 'undefined'.

[7m34[0m     req.session.cart = { id: mergedCart.id, items: mergedCart.cartItems };
[7m  [0m [91m                                                   ~~~~~~~~~~[0m

    at createTSError (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:859:12)
    at reportTSError (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:863:19)
    at getOutput (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1077:36)
    at Object.compile (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1433:41)
    at Module.m._compile (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1617:30)
    at loadTS (node:internal/modules/cjs/loader:1815:10)
    at Object.require.extensions.<computed> [as .ts] (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1458:32)
    at Function._load (node:internal/modules/cjs/loader:1275:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
[2025-04-08T03:51:16.943Z] [31MERROR[39M: uncaughtException: тип Unable to compile TypeScript:
[96msrc/utils/cartUtils.ts[0m:[93m34[0m:[93m30[0m - [91merror[0m[90m TS18048: [0m'mergedCart' is possibly 'undefined'.

[7m34[0m     req.session.cart = { id: mergedCart.id, items: mergedCart.cartItems };
[7m  [0m [91m                             ~~~~~~~~~~[0m
[96msrc/utils/cartUtils.ts[0m:[93m34[0m:[93m45[0m - [91merror[0m[90m TS2322: [0mType '{ id: string; createdAt: Date; updatedAt: Date; cartId: string; productId: string; quantity: number; }[]' is not assignable to type '{ product: any; quantity: number; }[]'.
  Property 'product' is missing in type '{ id: string; createdAt: Date; updatedAt: Date; cartId: string; productId: string; quantity: number; }' but required in type '{ product: any; quantity: number; }'.

[7m34[0m     req.session.cart = { id: mergedCart.id, items: mergedCart.cartItems };
[7m  [0m [91m                                            ~~~~~[0m

  [96msrc/types.d.ts[0m:[93m11[0m:[93m11[0m
    [7m11[0m           product: any;
    [7m  [0m [96m          ~~~~~~~[0m
    'product' is declared here.
[96msrc/utils/cartUtils.ts[0m:[93m34[0m:[93m52[0m - [91merror[0m[90m TS18048: [0m'mergedCart' is possibly 'undefined'.

[7m34[0m     req.session.cart = { id: mergedCart.id, items: mergedCart.cartItems };
[7m  [0m [91m                                                   ~~~~~~~~~~[0m

TSError: тип Unable to compile TypeScript:
[96msrc/utils/cartUtils.ts[0m:[93m34[0m:[93m30[0m - [91merror[0m[90m TS18048: [0m'mergedCart' is possibly 'undefined'.

[7m34[0m     req.session.cart = { id: mergedCart.id, items: mergedCart.cartItems };
[7m  [0m [91m                             ~~~~~~~~~~[0m
[96msrc/utils/cartUtils.ts[0m:[93m34[0m:[93m45[0m - [91merror[0m[90m TS2322: [0mType '{ id: string; createdAt: Date; updatedAt: Date; cartId: string; productId: string; quantity: number; }[]' is not assignable to type '{ product: any; quantity: number; }[]'.
  Property 'product' is missing in type '{ id: string; createdAt: Date; updatedAt: Date; cartId: string; productId: string; quantity: number; }' but required in type '{ product: any; quantity: number; }'.

[7m34[0m     req.session.cart = { id: mergedCart.id, items: mergedCart.cartItems };
[7m  [0m [91m                                            ~~~~~[0m

  [96msrc/types.d.ts[0m:[93m11[0m:[93m11[0m
    [7m11[0m           product: any;
    [7m  [0m [96m          ~~~~~~~[0m
    'product' is declared here.
[96msrc/utils/cartUtils.ts[0m:[93m34[0m:[93m52[0m - [91merror[0m[90m TS18048: [0m'mergedCart' is possibly 'undefined'.

[7m34[0m     req.session.cart = { id: mergedCart.id, items: mergedCart.cartItems };
[7m  [0m [91m                                                   ~~~~~~~~~~[0m

    at createTSError (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:859:12)
    at reportTSError (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:863:19)
    at getOutput (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1077:36)
    at Object.compile (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1433:41)
    at Module.m._compile (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1617:30)
    at loadTS (node:internal/modules/cjs/loader:1815:10)
    at Object.require.extensions.<computed> [as .ts] (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1458:32)
    at Function._load (node:internal/modules/cjs/loader:1275:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
[2025-04-08T03:51:23.664Z] [31MERROR[39M: uncaughtException: тип Unable to compile TypeScript:
[96msrc/utils/cartUtils.ts[0m:[93m34[0m:[93m46[0m - [91merror[0m[90m TS2322: [0mType '{ id: string; createdAt: Date; updatedAt: Date; cartId: string; productId: string; quantity: number; }[] | undefined' is not assignable to type '{ product: any; quantity: number; }[] | undefined'.
  Type '{ id: string; createdAt: Date; updatedAt: Date; cartId: string; productId: string; quantity: number; }[]' is not assignable to type '{ product: any; quantity: number; }[]'.
    Property 'product' is missing in type '{ id: string; createdAt: Date; updatedAt: Date; cartId: string; productId: string; quantity: number; }' but required in type '{ product: any; quantity: number; }'.

[7m34[0m     req.session.cart = { id: mergedCart?.id, items: mergedCart?.cartItems };
[7m  [0m [91m                                             ~~~~~[0m

  [96msrc/types.d.ts[0m:[93m11[0m:[93m11[0m
    [7m11[0m           product: any;
    [7m  [0m [96m          ~~~~~~~[0m
    'product' is declared here.

TSError: тип Unable to compile TypeScript:
[96msrc/utils/cartUtils.ts[0m:[93m34[0m:[93m46[0m - [91merror[0m[90m TS2322: [0mType '{ id: string; createdAt: Date; updatedAt: Date; cartId: string; productId: string; quantity: number; }[] | undefined' is not assignable to type '{ product: any; quantity: number; }[] | undefined'.
  Type '{ id: string; createdAt: Date; updatedAt: Date; cartId: string; productId: string; quantity: number; }[]' is not assignable to type '{ product: any; quantity: number; }[]'.
    Property 'product' is missing in type '{ id: string; createdAt: Date; updatedAt: Date; cartId: string; productId: string; quantity: number; }' but required in type '{ product: any; quantity: number; }'.

[7m34[0m     req.session.cart = { id: mergedCart?.id, items: mergedCart?.cartItems };
[7m  [0m [91m                                             ~~~~~[0m

  [96msrc/types.d.ts[0m:[93m11[0m:[93m11[0m
    [7m11[0m           product: any;
    [7m  [0m [96m          ~~~~~~~[0m
    'product' is declared here.

    at createTSError (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:859:12)
    at reportTSError (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:863:19)
    at getOutput (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1077:36)
    at Object.compile (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1433:41)
    at Module.m._compile (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1617:30)
    at loadTS (node:internal/modules/cjs/loader:1815:10)
    at Object.require.extensions.<computed> [as .ts] (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1458:32)
    at Function._load (node:internal/modules/cjs/loader:1275:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
[2025-04-08T03:51:29.227Z] [31MERROR[39M: uncaughtException: тип Unable to compile TypeScript:
[96msrc/utils/cartUtils.ts[0m:[93m34[0m:[93m46[0m - [91merror[0m[90m TS2322: [0mType '{ id: string; createdAt: Date; updatedAt: Date; cartId: string; productId: string; quantity: number; }[] | undefined' is not assignable to type '{ product: any; quantity: number; }[] | undefined'.
  Type '{ id: string; createdAt: Date; updatedAt: Date; cartId: string; productId: string; quantity: number; }[]' is not assignable to type '{ product: any; quantity: number; }[]'.
    Property 'product' is missing in type '{ id: string; createdAt: Date; updatedAt: Date; cartId: string; productId: string; quantity: number; }' but required in type '{ product: any; quantity: number; }'.

[7m34[0m     req.session.cart = { id: mergedCart?.id, items: mergedCart?.cartItems };
[7m  [0m [91m                                             ~~~~~[0m

  [96msrc/types.d.ts[0m:[93m11[0m:[93m11[0m
    [7m11[0m           product: any;
    [7m  [0m [96m          ~~~~~~~[0m
    'product' is declared here.

TSError: тип Unable to compile TypeScript:
[96msrc/utils/cartUtils.ts[0m:[93m34[0m:[93m46[0m - [91merror[0m[90m TS2322: [0mType '{ id: string; createdAt: Date; updatedAt: Date; cartId: string; productId: string; quantity: number; }[] | undefined' is not assignable to type '{ product: any; quantity: number; }[] | undefined'.
  Type '{ id: string; createdAt: Date; updatedAt: Date; cartId: string; productId: string; quantity: number; }[]' is not assignable to type '{ product: any; quantity: number; }[]'.
    Property 'product' is missing in type '{ id: string; createdAt: Date; updatedAt: Date; cartId: string; productId: string; quantity: number; }' but required in type '{ product: any; quantity: number; }'.

[7m34[0m     req.session.cart = { id: mergedCart?.id, items: mergedCart?.cartItems };
[7m  [0m [91m                                             ~~~~~[0m

  [96msrc/types.d.ts[0m:[93m11[0m:[93m11[0m
    [7m11[0m           product: any;
    [7m  [0m [96m          ~~~~~~~[0m
    'product' is declared here.

    at createTSError (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:859:12)
    at reportTSError (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:863:19)
    at getOutput (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1077:36)
    at Object.compile (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1433:41)
    at Module.m._compile (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1617:30)
    at loadTS (node:internal/modules/cjs/loader:1815:10)
    at Object.require.extensions.<computed> [as .ts] (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1458:32)
    at Function._load (node:internal/modules/cjs/loader:1275:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
[2025-04-08T03:51:51.293Z] [31MERROR[39M: uncaughtException: тип Unable to compile TypeScript:
[96msrc/controllers/cartController.ts[0m:[93m79[0m:[93m27[0m - [91merror[0m[90m TS18048: [0m'req.session.cart.items' is possibly 'undefined'.

[7m79[0m         const itemIndex = req.session.cart.items.findIndex(
[7m  [0m [91m                          ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/controllers/cartController.ts[0m:[93m85[0m:[93m13[0m - [91merror[0m[90m TS18048: [0m'req.session.cart.items' is possibly 'undefined'.

[7m85[0m             req.session.cart.items[itemIndex].quantity = quantity;
[7m  [0m [91m            ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/controllers/cartController.ts[0m:[93m87[0m:[93m13[0m - [91merror[0m[90m TS18048: [0m'req.session.cart.items' is possibly 'undefined'.

[7m87[0m             req.session.cart.items.push({ product: productId, quantity });
[7m  [0m [91m            ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/controllers/cartController.ts[0m:[93m90[0m:[93m11[0m - [91merror[0m[90m TS18048: [0m'req.session.cart.items' is possibly 'undefined'.

[7m90[0m           req.session.cart.items.splice(itemIndex, 1);
[7m  [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~[0m

TSError: тип Unable to compile TypeScript:
[96msrc/controllers/cartController.ts[0m:[93m79[0m:[93m27[0m - [91merror[0m[90m TS18048: [0m'req.session.cart.items' is possibly 'undefined'.

[7m79[0m         const itemIndex = req.session.cart.items.findIndex(
[7m  [0m [91m                          ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/controllers/cartController.ts[0m:[93m85[0m:[93m13[0m - [91merror[0m[90m TS18048: [0m'req.session.cart.items' is possibly 'undefined'.

[7m85[0m             req.session.cart.items[itemIndex].quantity = quantity;
[7m  [0m [91m            ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/controllers/cartController.ts[0m:[93m87[0m:[93m13[0m - [91merror[0m[90m TS18048: [0m'req.session.cart.items' is possibly 'undefined'.

[7m87[0m             req.session.cart.items.push({ product: productId, quantity });
[7m  [0m [91m            ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/controllers/cartController.ts[0m:[93m90[0m:[93m11[0m - [91merror[0m[90m TS18048: [0m'req.session.cart.items' is possibly 'undefined'.

[7m90[0m           req.session.cart.items.splice(itemIndex, 1);
[7m  [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~[0m

    at createTSError (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:859:12)
    at reportTSError (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:863:19)
    at getOutput (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1077:36)
    at Object.compile (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1433:41)
    at Module.m._compile (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1617:30)
    at loadTS (node:internal/modules/cjs/loader:1815:10)
    at Object.require.extensions.<computed> [as .ts] (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1458:32)
    at Function._load (node:internal/modules/cjs/loader:1275:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
[2025-04-08T03:51:57.227Z] [31MERROR[39M: uncaughtException: тип Unable to compile TypeScript:
[96msrc/controllers/cartController.ts[0m:[93m79[0m:[93m27[0m - [91merror[0m[90m TS18048: [0m'req.session.cart.items' is possibly 'undefined'.

[7m79[0m         const itemIndex = req.session.cart.items.findIndex(
[7m  [0m [91m                          ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/controllers/cartController.ts[0m:[93m85[0m:[93m13[0m - [91merror[0m[90m TS18048: [0m'req.session.cart.items' is possibly 'undefined'.

[7m85[0m             req.session.cart.items[itemIndex].quantity = quantity;
[7m  [0m [91m            ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/controllers/cartController.ts[0m:[93m87[0m:[93m13[0m - [91merror[0m[90m TS18048: [0m'req.session.cart.items' is possibly 'undefined'.

[7m87[0m             req.session.cart.items.push({ product: productId, quantity });
[7m  [0m [91m            ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/controllers/cartController.ts[0m:[93m90[0m:[93m11[0m - [91merror[0m[90m TS18048: [0m'req.session.cart.items' is possibly 'undefined'.

[7m90[0m           req.session.cart.items.splice(itemIndex, 1);
[7m  [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~[0m

TSError: тип Unable to compile TypeScript:
[96msrc/controllers/cartController.ts[0m:[93m79[0m:[93m27[0m - [91merror[0m[90m TS18048: [0m'req.session.cart.items' is possibly 'undefined'.

[7m79[0m         const itemIndex = req.session.cart.items.findIndex(
[7m  [0m [91m                          ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/controllers/cartController.ts[0m:[93m85[0m:[93m13[0m - [91merror[0m[90m TS18048: [0m'req.session.cart.items' is possibly 'undefined'.

[7m85[0m             req.session.cart.items[itemIndex].quantity = quantity;
[7m  [0m [91m            ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/controllers/cartController.ts[0m:[93m87[0m:[93m13[0m - [91merror[0m[90m TS18048: [0m'req.session.cart.items' is possibly 'undefined'.

[7m87[0m             req.session.cart.items.push({ product: productId, quantity });
[7m  [0m [91m            ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/controllers/cartController.ts[0m:[93m90[0m:[93m11[0m - [91merror[0m[90m TS18048: [0m'req.session.cart.items' is possibly 'undefined'.

[7m90[0m           req.session.cart.items.splice(itemIndex, 1);
[7m  [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~[0m

    at createTSError (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:859:12)
    at reportTSError (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:863:19)
    at getOutput (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1077:36)
    at Object.compile (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1433:41)
    at Module.m._compile (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1617:30)
    at loadTS (node:internal/modules/cjs/loader:1815:10)
    at Object.require.extensions.<computed> [as .ts] (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1458:32)
    at Function._load (node:internal/modules/cjs/loader:1275:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
[2025-04-08T03:52:26.686Z] [31MERROR[39M: uncaughtException: тип Unable to compile TypeScript:
[96msrc/controllers/cartController.ts[0m:[93m79[0m:[93m27[0m - [91merror[0m[90m TS18048: [0m'req.session.cart.items' is possibly 'undefined'.

[7m79[0m         const itemIndex = req.session.cart.items.findIndex(
[7m  [0m [91m                          ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/controllers/cartController.ts[0m:[93m85[0m:[93m13[0m - [91merror[0m[90m TS18048: [0m'req.session.cart.items' is possibly 'undefined'.

[7m85[0m             req.session.cart.items[itemIndex].quantity = quantity;
[7m  [0m [91m            ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/controllers/cartController.ts[0m:[93m87[0m:[93m13[0m - [91merror[0m[90m TS18048: [0m'req.session.cart.items' is possibly 'undefined'.

[7m87[0m             req.session.cart.items.push({ product: productId, quantity });
[7m  [0m [91m            ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/controllers/cartController.ts[0m:[93m90[0m:[93m11[0m - [91merror[0m[90m TS18048: [0m'req.session.cart.items' is possibly 'undefined'.

[7m90[0m           req.session.cart.items.splice(itemIndex, 1);
[7m  [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~[0m

TSError: тип Unable to compile TypeScript:
[96msrc/controllers/cartController.ts[0m:[93m79[0m:[93m27[0m - [91merror[0m[90m TS18048: [0m'req.session.cart.items' is possibly 'undefined'.

[7m79[0m         const itemIndex = req.session.cart.items.findIndex(
[7m  [0m [91m                          ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/controllers/cartController.ts[0m:[93m85[0m:[93m13[0m - [91merror[0m[90m TS18048: [0m'req.session.cart.items' is possibly 'undefined'.

[7m85[0m             req.session.cart.items[itemIndex].quantity = quantity;
[7m  [0m [91m            ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/controllers/cartController.ts[0m:[93m87[0m:[93m13[0m - [91merror[0m[90m TS18048: [0m'req.session.cart.items' is possibly 'undefined'.

[7m87[0m             req.session.cart.items.push({ product: productId, quantity });
[7m  [0m [91m            ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/controllers/cartController.ts[0m:[93m90[0m:[93m11[0m - [91merror[0m[90m TS18048: [0m'req.session.cart.items' is possibly 'undefined'.

[7m90[0m           req.session.cart.items.splice(itemIndex, 1);
[7m  [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~[0m

    at createTSError (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:859:12)
    at reportTSError (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:863:19)
    at getOutput (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1077:36)
    at Object.compile (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1433:41)
    at Module.m._compile (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1617:30)
    at loadTS (node:internal/modules/cjs/loader:1815:10)
    at Object.require.extensions.<computed> [as .ts] (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1458:32)
    at Function._load (node:internal/modules/cjs/loader:1275:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
[2025-04-08T03:54:00.606Z] [31MERROR[39M: uncaughtException: тип Unable to compile TypeScript:
[96msrc/utils/cartUtils.ts[0m:[93m34[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType 'string | undefined' is not assignable to type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m34[0m       id: mergedCart?.id,
[7m  [0m [91m      ~~[0m
[96msrc/utils/cartUtils.ts[0m:[93m35[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType '{ product: string; quantity: number; }[] | undefined' is not assignable to type '{ product: any; quantity: number; }[]'.
  Type 'undefined' is not assignable to type '{ product: any; quantity: number; }[]'.

[7m35[0m       items: mergedCart?.cartItems.map((item) => ({
[7m  [0m [91m      ~~~~~[0m

TSError: тип Unable to compile TypeScript:
[96msrc/utils/cartUtils.ts[0m:[93m34[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType 'string | undefined' is not assignable to type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m34[0m       id: mergedCart?.id,
[7m  [0m [91m      ~~[0m
[96msrc/utils/cartUtils.ts[0m:[93m35[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType '{ product: string; quantity: number; }[] | undefined' is not assignable to type '{ product: any; quantity: number; }[]'.
  Type 'undefined' is not assignable to type '{ product: any; quantity: number; }[]'.

[7m35[0m       items: mergedCart?.cartItems.map((item) => ({
[7m  [0m [91m      ~~~~~[0m

    at createTSError (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:859:12)
    at reportTSError (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:863:19)
    at getOutput (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1077:36)
    at Object.compile (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1433:41)
    at Module.m._compile (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1617:30)
    at loadTS (node:internal/modules/cjs/loader:1815:10)
    at Object.require.extensions.<computed> [as .ts] (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1458:32)
    at Function._load (node:internal/modules/cjs/loader:1275:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
[2025-04-08T03:54:09.837Z] [31MERROR[39M: uncaughtException: тип Unable to compile TypeScript:
[96msrc/utils/cartUtils.ts[0m:[93m34[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType 'string | undefined' is not assignable to type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m34[0m       id: mergedCart?.id,
[7m  [0m [91m      ~~[0m
[96msrc/utils/cartUtils.ts[0m:[93m35[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType '{ product: string; quantity: number; }[] | undefined' is not assignable to type '{ product: any; quantity: number; }[]'.
  Type 'undefined' is not assignable to type '{ product: any; quantity: number; }[]'.

[7m35[0m       items: mergedCart?.cartItems.map((item) => ({
[7m  [0m [91m      ~~~~~[0m

TSError: тип Unable to compile TypeScript:
[96msrc/utils/cartUtils.ts[0m:[93m34[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType 'string | undefined' is not assignable to type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m34[0m       id: mergedCart?.id,
[7m  [0m [91m      ~~[0m
[96msrc/utils/cartUtils.ts[0m:[93m35[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType '{ product: string; quantity: number; }[] | undefined' is not assignable to type '{ product: any; quantity: number; }[]'.
  Type 'undefined' is not assignable to type '{ product: any; quantity: number; }[]'.

[7m35[0m       items: mergedCart?.cartItems.map((item) => ({
[7m  [0m [91m      ~~~~~[0m

    at createTSError (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:859:12)
    at reportTSError (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:863:19)
    at getOutput (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1077:36)
    at Object.compile (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1433:41)
    at Module.m._compile (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1617:30)
    at loadTS (node:internal/modules/cjs/loader:1815:10)
    at Object.require.extensions.<computed> [as .ts] (/home/abdelrahman-aboalkhair/Projects/WEB/code/full-stack-ecommerce/server/node_modules/ts-node/src/index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1458:32)
    at Function._load (node:internal/modules/cjs/loader:1275:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
